<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Welcome!{% endblock %}</title>

    {% block stylesheets %}
        <style>
            body {
                margin: 0;
                font-family: Arial, sans-serif;
            }

            header {
                background: #007bff;
                color: white;
                padding: 1rem 2rem;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .logout-btn {
                background: white;
                color: #007bff;
                border: none;
                padding: 0.3rem 0.6rem;
                border-radius: 4px;
                cursor: pointer;
                font-weight: bold;
            }
        </style>
    {% endblock %}
</head>

<body>

{% if app.request.get('_route') != 'app_login' %}
    <header>
        {% set authUser = app.session.get('user') %}
        {% if authUser %}
            <div>Logged user: {{ authUser.user.firstName }} {{ authUser.user.lastName }}</div>
            <form method="post" action="{{ path('app_logout') }}">
                <button type="submit" class="logout-btn">Logout</button>
            </form>
        {% else %}
            Logged user: Guest
        {% endif %}
    </header>
{% endif %}

{% block body %}{% endblock %}
</body>
</html>
